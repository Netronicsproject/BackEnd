{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"게시물  API","description":"게시물 업로드,수정,삭제,파일첨부등등  , 게시물의 파일은 게시물의 이미지파일과 첨부파일로 나뉨"},{"name":"프로필 API","description":"프로필 만들기, 로그인되어 있는 사용자에 대해 카테고리 정보랑 성별 입력시켜줌 "},{"name":"좋아요 관련 API","description":"좋아요 추가,삭제,확인"},{"name":"로그인 API","description":"구글 oauth 로그인."}],"paths":{"/api/post/{postId}":{"put":{"tags":["게시물  API"],"summary":"게시물 수정 api","description":"필요에 따라 첨부파일도 수정가능 ","operationId":"updatePost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"required":["post"],"type":"object","properties":{"post":{"$ref":"#/components/schemas/PostRequestDto"},"files":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}}}}},"/api/v1/likes/{postId}":{"post":{"tags":["좋아요 관련 API"],"summary":"좋아요 누르기","description":"게시물 id기반 좋아요","operationId":"addLike","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LikeResponseDto"}}}}}},"delete":{"tags":["좋아요 관련 API"],"summary":"좋아요 삭제","description":"게시물 id기반 좋아요 삭제","operationId":"deleteLike","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/profile/new":{"post":{"tags":["프로필 API"],"summary":"프로필 완성 api","description":"프로필 사진도 첨부 가능","operationId":"completeUserProfile","requestBody":{"content":{"application/json":{"schema":{"required":["profilePicture"],"type":"object","properties":{"profilePicture":{"type":"string","format":"binary"},"userProfileDTO":{"$ref":"#/components/schemas/UserProfileDto"}}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/post":{"get":{"tags":["게시물  API"],"summary":"게시물 조회 api","description":"페이징을 사용,페이징 번호,사이즈,정렬조건 쿼리 스트링으로 받음 , 페이지 정보도 반환","operationId":"getAllPosts","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostSummaryPageDto"}}}}}},"post":{"tags":["게시물  API"],"summary":"게시물 만들기 api","description":"첨부파일을 멀티파트 형식으로 인자에 포함","operationId":"createPost","requestBody":{"content":{"application/json":{"schema":{"required":["post"],"type":"object","properties":{"post":{"$ref":"#/components/schemas/PostRequestDto"},"files":{"type":"array","items":{"type":"string","format":"binary"}}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}}}}},"/api/post/{postId}/comments":{"get":{"tags":["게시물  API"],"summary":"게시물 댓글목록 조회 api","operationId":"getComments","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponseDto"}}}}}}},"post":{"tags":["게시물  API"],"summary":"게시물에 댓글달기 api","description":"댓글 달기,parent ID는 null로보냄  ","operationId":"addComment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponseDto"}}}}}}},"/api/post/{postId}/comments/{parentCommentId}":{"post":{"tags":["게시물  API"],"summary":"댓글에 대댓글달기 api","description":"댓글에 대댓글달기 api","operationId":"addReply","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponseDto"}}}}}}},"/api/auth/refresh":{"post":{"tags":["로그인 API"],"summary":"리프레시 토큰을 이용한 새로운 액세스 토큰 발급","description":"리프레시 토큰을 받아 새로운 액세스 토큰을 반환","operationId":"refreshAccessToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/google":{"post":{"tags":["로그인 API"],"summary":"ID 토큰 기반 로그인","description":"바디로 Google ID 토큰을 받음","operationId":"authenticateWithGoogle","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/likes/":{"get":{"tags":["좋아요 관련 API"],"summary":"좋아요 누른 게시물 목록","operationId":"likeList","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LikeResponseDto"}}}}}}}},"/api/post/{postId}/images":{"get":{"tags":["게시물  API"],"summary":"이미지 파일 조회 api","description":"게시물 이미지 파일을 게시물 id기반 조회  ","operationId":"getImages","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponseDto"}}}}}}}},"/api/post/{postId}/attachments":{"get":{"tags":["게시물  API"],"summary":"첨부파일 조회 api","description":"현재 게시물 id 기반으로 파일정보를 조회 ","operationId":"getAttachments","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponseDto"}}}}}}}},"/api/post/{postId}/attachments/{fileId}":{"get":{"tags":["게시물  API"],"summary":"첨부파일 다운  api","description":"첨부파일을 포스트id와 파일 id기반으로 다운 ,파일 id를 프론트에선 가지고있어야함","operationId":"downloadAttach","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"fileId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string","format":"binary"}}}}}}},"/api/post/comments/{commentId}":{"delete":{"tags":["게시물  API"],"summary":"게시물 댓글 삭제 api","description":"부모 댓글 삭제하면 자식 댓글도 사라짐 ","operationId":"deleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"PostRequestDto":{"type":"object","properties":{"title":{"type":"string"},"content":{"type":"string"},"fileType":{"type":"string","enum":["IMAGE","ATTACH"]}}},"CommentResponseDto":{"type":"object","properties":{"commentId":{"type":"integer","format":"int64"},"content":{"type":"string"},"author":{"type":"string"},"createdAt":{"type":"string","format":"date-time"}}},"FileResponseDto":{"type":"object","properties":{"fileId":{"type":"integer","format":"int64"},"filePath":{"type":"string"},"fileName":{"type":"string"}}},"LikeResponseDto":{"type":"object","properties":{"likeId":{"type":"integer","format":"int64"},"postId":{"type":"integer","format":"int64"},"username":{"type":"string"}}},"PostResponseDto":{"type":"object","properties":{"postId":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"author":{"type":"string"},"files":{"type":"array","items":{"$ref":"#/components/schemas/FileResponseDto"}},"comments":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponseDto"}},"likes":{"type":"array","items":{"$ref":"#/components/schemas/LikeResponseDto"}},"lastModified":{"type":"string","format":"date-time"}}},"UserProfileDto":{"type":"object","properties":{"introduce":{"type":"string"},"userName":{"type":"string"}}},"CommentRequestDto":{"required":["content","postId"],"type":"object","properties":{"postId":{"type":"integer","format":"int64"},"parentId":{"type":"integer","format":"int64"},"content":{"type":"string"}}},"RefreshTokenRequest":{"type":"object","properties":{"refreshToken":{"type":"string"}}},"GoogleTokenRequest":{"type":"object","properties":{"idToken":{"type":"string"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PostSummaryDto":{"type":"object","properties":{"postId":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"author":{"type":"string"},"commentCount":{"type":"integer","format":"int32"},"likeCount":{"type":"integer","format":"int32"}}},"PostSummaryPageDto":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/components/schemas/PostSummaryDto"}},"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"}}}}}}